<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        * {
            font-family: arial;
            font-weight: bold;
            user-select: none;
        }
        body {
            margin: 0;
            background-color: #fff7ed;
        }
        .wrapper {
            margin: auto;
            min-width: 80%;
            height: 100svh;
            max-width: 1200px;
            background-color: #ffe6cc;
            position: relative;
        }
        .container {
            position: absolute;
            inset: 20px;
            outline: green solid 1px;
            display: flex;
            flex-direction: column;
        }
        .month-title {
            background-color: hsl(0, 0%, 79%);
            text-align: center;
            font-size: 52px;
            padding: 15px;
        }
        .weekday-wrapper {
            background-color: rgb(255, 255, 255);
            display: grid;
            grid-template-columns: repeat(7, minmax(0, 1fr));
            gap: 5px;
        }
        .weekday-wrapper > * {
            text-align: center;
            font-size: 20px;
            padding: 5px;
        }
        .grid-wrapper {
            position: relative;
            flex: 1;
            background-color: rgb(255, 255, 255);
        }

        .day-grid {
            position: absolute;
            inset: 0;
            display: grid;
            grid-template-columns: repeat(7, minmax(0, 1fr));
            grid-auto-rows: 1fr;
            gap: 5px;
        }
        .day-grid-item {
            background-color: #e6e6e6;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
            position: relative;
        }
        .day-grid-item:hover {
            cursor: pointer;
            background-color: #cfcfcf
        }
        .day-grid-item-today {           
            border: rgb(94, 94, 94) solid 3px;
            border-radius: 10px;
            background-color: #cecece;
            margin: -3px;
        }
        .day-grid-item-today .day-grid-item-num {
            color: rgb(0, 0, 0);
        }
        .day-grid-item-today:hover {
            background-color: #f0f0f0;
            border: rgb(0, 0, 0) solid 3px;
        }
        .day-grid-item-num {
            position: absolute;
            top: 7px;
            right: 10px;
            font-size: 24px;
            color: rgb(80, 80, 80);
        }

        .event-grid {
            position: absolute;
            inset: 0;
            display: grid;
            grid-template-columns: repeat(calc(6*7), minmax(0, 1fr));
            pointer-events: none;
        }
        .event-grid-item {
            background-color: rgb(219, 120, 120);
            border-radius: 25px;
            pointer-events: visible;
            overflow: clip;
            overflow-clip-margin: content-box;
            text-wrap: nowrap;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 18px;
        }
        .event-grid-item-start {
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }
        .event-grid-item-end {
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
        }
        .event-grid-item:hover {
            cursor: pointer;
            background-color: rgb(116, 41, 41);
            color: white;
        }

        .short-name {
            display: none;
        }
        
        @media only screen and (max-width: 1000px) {
            .weekday-wrapper > * {
                font-size: 18px;
                padding: 5px;
            }
        }

        @media (max-width: 800px) {
            .container {
                inset: 10px;
            }
            .month-title {
                font-size: 24px;
                padding: 10px;
            }
            .weekday-wrapper > * {
                font-size: 18px;
                padding: 0px;
            }
            .day-grid {
                gap: 4px;
            }
            .day-grid-item-num {
                top: 5px;
                right: 5px;
                font-size: 12px;   
            }
            .event-grid-item {
                font-size: 12px;   
            }
            .short-name {
                display: block;
            }
            .full-name {
                display: none;
            }  
        }
    </style>
</head>
<body>
    <script>
        const weekdays_full = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        const weekdays_short = ["Sun","Mon","Tues","Wed","Thur","Fri","Sat"];
        const MONTHS = ["","January","February","March","April","May","June","July","August","September","October","November","December"];
        function Ordinal(number) {
            if(4 <= number && number <= 20)
                return `${number}th`;
            if(number % 10 == 1)
                return `${number}st`;
            if(number % 10 == 2)
                return `${number}nd`;
            if(number % 10 == 3)
                return `${number}rd`;
            return `${number}th`;
        }
        window.onload = () => {
            CreateMonth("July",2024);
            CreateMonth("August",2024);
            CreateMonth("September",2024);
            CreateMonth("October",2024);
            CreateMonth("November",2024);
            addevent("12-7-2024","15-7-2024","Important date to remember!\nDon't Forget The Pizza!",null)
        }

        function CreateMonth (month, year) {
            month_as_number = new Date(month+'-1-01').getMonth()+1;

            wrapper = document.createElement("div");
            wrapper.classList.add("wrapper");

            container = document.createElement("div");
            container.classList.add("container");

            month_title = document.createElement("div")
            month_title.classList.add("month-title");
            month_title.innerHTML = `${month} ${year}`;

            weekday_wrapper = document.createElement("div")
            weekday_wrapper.classList.add("weekday-wrapper");

            grid_wrapper = document.createElement("div")
            grid_wrapper.classList.add("grid-wrapper");

            day_grid = document.createElement("div")
            day_grid.classList.add("day-grid");

            event_grid = document.createElement("div")
            event_grid.classList.add("event-grid");
            event_grid.setAttribute("event-grid-id",`${month_as_number}-${year}`);

            grid_wrapper.appendChild(day_grid);
            grid_wrapper.appendChild(event_grid);

            wrapper.appendChild(container);
            container.appendChild(month_title);
            container.appendChild(weekday_wrapper);
            container.appendChild(grid_wrapper);

            document.body.appendChild(wrapper);
            for(i=7;i--;) {
                weekday_full = document.createElement("div");
                weekday_short = document.createElement("div");
                weekday_full.classList.add("weekday","full-name");
                weekday_short.classList.add("weekday","short-name");
                weekday_full.innerHTML = weekdays_full[i];
                weekday_short.innerHTML = weekdays_short[i];
                weekday_wrapper.appendChild(weekday_full);
                weekday_wrapper.appendChild(weekday_short);
            }

            offset = new Date(`${month} ${year}`).getDay();
            month_length = new Date(year,month_as_number,0).getDate();
            for(i = month_length + offset; i---offset;) {
                let item = document.createElement("div");
                item.classList.add("day-grid-item");
                item.style.gridArea = `${Math.floor(i/7)+1} / ${i%7+1}`;
                item.setAttribute("date-id", `${i-offset+1}-${month_as_number}-${year}`)
                if(new Date().setHours(0,0,0,0)==new Date(year,month_as_number-1,i-offset+1).setHours(0,0,0,0))
                    item.classList.add('day-grid-item-today');
                item.onclick = e => {
                }
                item_num = document.createElement("div");
                item_num.classList.add("day-grid-item-num");
                item_num.innerHTML = i-offset+1;
                item.appendChild(item_num);
                day_grid.appendChild(item);
            }
            weeksinmonth = Math.ceil((month_length + offset)/7);
            event_grid.style.gridTemplateRows = `repeat(${weeksinmonth * 12}, minmax(0, 1fr))`

        }

        function addevent(startDate, endDate, text, color) {
            eventID = startDate + '-' + endDate;
            [startDay, startMonth, startYear] = startDate.split('-').map(e => Number(e));
            [endDay, endMonth, endYear] = endDate.split('-').map(e => Number(e));
            if(new Date(endYear,endMonth,endDay).setHours(0,0,0,0) < new Date(startYear,startMonth,startDay).setHours(0,0,0,0)) return;
            for(curYear = startYear; curYear <= endYear; curYear++) {
                for(curMonth = (curYear == startYear ? startMonth : 1);
                    curMonth <= (curYear == endYear ? endMonth : 12); curMonth++) { 
                                     
                    eventGrid = document.querySelector(`div[event-grid-id="${curMonth}-${curYear}"]`);
                    if (!eventGrid) return;
                    curDay = 1;
                    if(curYear == startYear && curMonth == startMonth)
                        curDay = startDay;
                    monthLength = new Date(curYear, curMonth, 0).getDate();
                    curMonthEnd = curYear == endYear && curMonth == endMonth ? endDay : monthLength;

                    dayDone = false;
                    while(!dayDone) {
                        dayLeftofWeek = curMonthEnd - curDay < 7 ? curMonthEnd - curDay + 1 : 7 - new Date(curYear, curMonth - 1, curDay).getDay();

                        startDiv = document.querySelector(`div[date-id="${[curDay, curMonth, curYear].join('-')}"]`);

                        if (!startDiv) return;

                        eventDiv = document.createElement("div");
                        eventDiv.setAttribute("event-id",eventID);

                        eventDiv.classList.add("event-grid-item");
                        eventDiv.style.gridColumn = `${startDiv.style.gridColumn * 6 - 5} / span calc(6*${dayLeftofWeek})`;
                        eventDiv.style.gridRow = `${startDiv.style.gridRow * 12 - 7} / span 5`;
                        eventDiv.innerHTML = text.replace(/\n/g, '<br>');
                        eventGrid.appendChild(eventDiv);

                        curDay += dayLeftofWeek;

                        if(curMonthEnd < curDay)
                            dayDone = true;
                    }                       
                }
            }
        }
    </script>
</body>
</html>
